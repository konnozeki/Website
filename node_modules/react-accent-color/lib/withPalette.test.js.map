{"version":3,"sources":["../src/withPalette.test.js"],"names":["adapter","Dummy","props","accent","displayName","it","propFactory","jest","fn","WrappedDummy","palette","theme","background","hoistedFourFiveSix","fourFiveSix","provider","expect","find","toHaveProperty","toHaveBeenCalledTimes","paletteFactory","setProps","dummy","oneTwoThree","getDOMNode","toMatchSnapshot","wrappedDummy","hoistedOneTwoThree","toBeUndefined"],"mappings":"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","file":"withPalette.test.js","sourcesContent":["import { configure, mount } from 'enzyme';\r\nimport Adapter              from 'enzyme-adapter-react-16';\r\nimport React                from 'react';\r\nimport renderer             from 'react-test-renderer';\r\n\r\nimport PaletteProvider from './PaletteProvider';\r\nimport withPalette     from './withPalette';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nconst Dummy = props => <div data-accent={ props.accent } />;\r\n\r\nDummy.displayName = 'Dummy';\r\n\r\nit('should wrap component with CSS factories', () => {\r\n  const propFactory = jest.fn();\r\n  const WrappedDummy = withPalette(({ accent, palette, theme }, props) => {\r\n    propFactory();\r\n\r\n    return {\r\n      accent,\r\n      background: palette.background,\r\n      hoistedFourFiveSix: props.fourFiveSix,\r\n      theme\r\n    };\r\n  })(Dummy);\r\n\r\n  const provider = mount(\r\n    <PaletteProvider accent=\"#F00\" theme=\"light\">\r\n      <WrappedDummy oneTwoThree=\"123\" fourFiveSix=\"456\" />\r\n    </PaletteProvider>\r\n  );\r\n\r\n  expect(provider.find('Dummy').props()).toHaveProperty('oneTwoThree', '123');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('fourFiveSix', '456');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('accent', '#F00');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('background', '#FFF');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('theme', 'light');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('hoistedFourFiveSix', '456');\r\n  expect(propFactory).toHaveBeenCalledTimes(1);\r\n});\r\n\r\nit('should refresh with accent color change', () => {\r\n  const paletteFactory = jest.fn();\r\n  const WrappedDummy = withPalette(({ accent, palette }, props) => {\r\n    paletteFactory();\r\n\r\n    return {\r\n      accent,\r\n      background: palette.background\r\n    };\r\n  })(Dummy);\r\n\r\n  const provider = mount(\r\n    <PaletteProvider accent=\"#F00\">\r\n      <WrappedDummy oneTwoThree=\"123\" />\r\n    </PaletteProvider>\r\n  );\r\n\r\n  expect(provider.find('Dummy').props()).toHaveProperty('accent', '#F00');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('background', '#FFF');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('oneTwoThree', '123');\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n\r\n  provider.setProps({ accent: '#0F0' });\r\n\r\n  expect(provider.find('Dummy').props()).toHaveProperty('accent', '#0F0');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('background', '#FFF');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('oneTwoThree', '123');\r\n  expect(paletteFactory).toHaveBeenCalledTimes(2);\r\n});\r\n\r\nit('should not refresh with no color change', () => {\r\n  const paletteFactory = jest.fn();\r\n  const WrappedDummy = withPalette((palette, props) => {\r\n    paletteFactory();\r\n\r\n    return {};\r\n  })(Dummy);\r\n\r\n  const provider = mount(\r\n    <PaletteProvider accent=\"#F00\" theme=\"light\">\r\n      <WrappedDummy oneTwoThree=\"123\" />\r\n    </PaletteProvider>\r\n  );\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n\r\n  provider.setProps({ accent: '#F00', theme: 'light' });\r\n\r\n  // We should not call paletteFactory if there is nothing actually changed\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n\r\n  provider.setProps({ dummy: '123' });\r\n\r\n  // We added a dummy prop to <PaletteProvider>, we should let paletteFactory know about it\r\n  expect(paletteFactory).toHaveBeenCalledTimes(2);\r\n});\r\n\r\nit('should override palette with accent props', () => {\r\n  const paletteFactory = jest.fn();\r\n  const WrappedDummy = withPalette(({ accent, oneTwoThree, palette, theme }, props) => {\r\n    paletteFactory();\r\n\r\n    return {\r\n      accent,\r\n      background: palette.background,\r\n      oneTwoThree,\r\n      theme\r\n    };\r\n  })(Dummy);\r\n\r\n  const provider = mount(\r\n    <PaletteProvider accent=\"#F00\" theme=\"dark\">\r\n      <WrappedDummy accent=\"#999\" />\r\n    </PaletteProvider>\r\n  );\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n  expect(provider.getDOMNode()).toMatchSnapshot();\r\n  expect(provider.find('Dummy').props()).toHaveProperty('accent', '#999');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('background', '#000');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('theme', 'dark');\r\n\r\n  provider.setProps({ accent: '#FFF' });\r\n\r\n  // Changing provider.accent should not trigger a new update because we have already overrode the accent color\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n\r\n  provider.setProps({ oneTwoThree: 123 });\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(2);\r\n  expect(provider.find('Dummy').props()).toHaveProperty('oneTwoThree', 123);\r\n\r\n  provider.setProps({ theme: 'light' });\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(3);\r\n  expect(provider.find('Dummy').props()).toHaveProperty('accent', '#999');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('background', '#FFF');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('oneTwoThree', 123);\r\n  expect(provider.find('Dummy').props()).toHaveProperty('theme', 'light');\r\n});\r\n\r\nit('should recalculate palette on props change', () => {\r\n  const paletteFactory = jest.fn();\r\n  const WrappedDummy = withPalette(({ accent }, { oneTwoThree }) => {\r\n    paletteFactory();\r\n\r\n    return {\r\n      accent,\r\n      oneTwoThree\r\n    };\r\n  })(Dummy);\r\n\r\n  const wrappedDummy = mount(<WrappedDummy accent=\"#999\" />);\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('accent', '#999');\r\n\r\n  wrappedDummy.setProps({ oneTwoThree: 123 });\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(2);\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('accent', '#999');\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('oneTwoThree', 123);\r\n});\r\n\r\nit('should work without <PaletteProvider>', () => {\r\n  const paletteFactory = jest.fn();\r\n  const WrappedDummy = withPalette(({ accent, palette, theme }, { fourFiveSix }) => {\r\n    paletteFactory();\r\n\r\n    return {\r\n      accent,\r\n      background        : palette.background,\r\n      hoistedFourFiveSix: fourFiveSix,\r\n      theme\r\n    };\r\n  })(Dummy);\r\n\r\n  const wrappedDummy = mount(\r\n    <WrappedDummy accent=\"#F00\" theme=\"dark\" oneTwoThree={ 123 } fourFiveSix={ 456 } />\r\n  );\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('oneTwoThree', 123);\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('fourFiveSix', 456);\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('accent', '#F00');\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('background', '#000');\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('theme', 'dark');\r\n  expect(wrappedDummy.find('Dummy').props()).toHaveProperty('hoistedFourFiveSix', 456);\r\n});\r\n\r\nit('should hoist all props from <PaletteProvider>', () => {\r\n  const paletteFactory = jest.fn();\r\n  const WrappedDummy = withPalette(({ oneTwoThree }, props) => {\r\n    paletteFactory();\r\n\r\n    return {\r\n      hoistedOneTwoThree: oneTwoThree\r\n    };\r\n  })(Dummy);\r\n\r\n  const provider = mount(\r\n    <PaletteProvider accent=\"#F00\" theme=\"light\" oneTwoThree={ 123 }>\r\n      <WrappedDummy />\r\n    </PaletteProvider>\r\n  );\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n  expect(provider.find('Dummy').props().oneTwoThree).toBeUndefined();\r\n  expect(provider.find('Dummy').props()).toHaveProperty('hoistedOneTwoThree', 123);\r\n});\r\n\r\nit('should stack multiple <PaletteProvider>', () => {\r\n  const paletteFactory = jest.fn();\r\n  const WrappedDummy = withPalette(({\r\n    accent,\r\n    fourFiveSix,\r\n    oneTwoThree,\r\n    palette,\r\n    theme\r\n  }, props) => {\r\n    paletteFactory();\r\n\r\n    return {\r\n      accent,\r\n      background: palette.background,\r\n      oneTwoThree,\r\n      fourFiveSix,\r\n      theme\r\n    };\r\n  })(Dummy);\r\n\r\n  const provider = mount(\r\n    <PaletteProvider accent=\"#F00\" theme=\"dark\" oneTwoThree={ 123 }>\r\n      <PaletteProvider accent=\"#0F0\" fourFiveSix={ 456 }>\r\n        <WrappedDummy oneTwoThree=\"1-2-3\" />\r\n      </PaletteProvider>\r\n    </PaletteProvider>\r\n  );\r\n\r\n  expect(paletteFactory).toHaveBeenCalledTimes(1);\r\n  expect(provider.find('Dummy').props()).toHaveProperty('accent', '#0F0');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('background', '#000');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('theme', 'dark');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('oneTwoThree', '1-2-3');\r\n  expect(provider.find('Dummy').props()).toHaveProperty('fourFiveSix', 456);\r\n});\r\n"]}